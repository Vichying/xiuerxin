(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-559aecbd"],{"45fc":function(e,c,t){"use strict";var i=t("23e7"),n=t("b727").some,h=t("a640"),d=t("ae40"),s=h("some"),a=d("some");i({target:"Array",proto:!0,forced:!s||!a},{some:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"68cb":function(e,c,t){"use strict";var i=t("9562"),n=t.n(i);n.a},9562:function(e,c,t){},cef2:function(e,c,t){"use strict";t.r(c);var i=function(){var e=this,c=e.$createElement,t=e._self._c||c;return t("div",[e._m(0),t("div",{staticClass:"tableBox"},[t("div",{staticClass:"ord"},e._l(e.treeData,(function(c){return t("div",{key:c.id,staticClass:"box"},[t("div",{staticClass:"fu"},[t("el-checkbox",{on:{change:function(t){return e.checkedBtn(c)}},model:{value:c.checked,callback:function(t){e.$set(c,"checked",t)},expression:"item.checked"}},[e._v(e._s(c.name))])],1),t("div",{staticClass:"zi"},e._l(c.child,(function(c){return t("div",{key:c.id,staticClass:"item"},[t("div",{staticClass:"er"},[t("el-checkbox",{on:{change:function(t){return e.checkedBtn(c)}},model:{value:c.checked,callback:function(t){e.$set(c,"checked",t)},expression:"it.checked"}},[e._v(e._s(c.name))])],1),t("div",{staticClass:"opt"},e._l(c.child,(function(c){return t("span",{key:c.id},[t("el-checkbox",{on:{change:function(t){return e.checkedBtn(c)}},model:{value:c.checked,callback:function(t){e.$set(c,"checked",t)},expression:"its.checked"}},[e._v(e._s(c.name))])],1)})),0)])})),0)])})),0),t("div",{staticClass:"sys"},[t("el-checkbox",{on:{change:e.checkAllFunc},model:{value:e.checkAll,callback:function(c){e.checkAll=c},expression:"checkAll"}},[e._v("修尔信后台")])],1)])])},n=[function(){var e=this,c=e.$createElement,t=e._self._c||c;return t("div",{staticClass:"head"},[t("ul",[t("li",[e._v("系统")]),t("li",[e._v("一级菜单")]),t("li",[e._v("二级菜单")]),t("li",[e._v("操作")])])])}],h=(t("7db0"),t("4160"),t("45fc"),t("159b"),t("96cf"),t("1da1")),d=t("5530"),s=t("2f62"),a={data:function(){return{checkAll:!1,selectId:[]}},props:["treeData","row"],computed:Object(d["a"])({},Object(s["c"])(["getToken"])),methods:Object(d["a"])(Object(d["a"])({},Object(s["b"])({sysrolesUpdate:"loginModule/sysrolesUpdate"})),{},{dab:function(e){var c=[];e.forEach((function(e){e.child&&0!=e.child.length&&(c.push(e),e.child.forEach((function(e){e.child&&0!=e.child.length&&(c.push(e),e.child.forEach((function(t){c.push(t),t.pid=e.id})))})))})),this.treeData.forEach((function(e){c.forEach((function(c){e.id==c.id&&(e.checked=!0),e.child&&0!=e.child.length&&e.child.forEach((function(e){e.id==c.id&&(e.checked=!0),e.child&&0!=e.child.length&&e.child.forEach((function(t){t.id==c.id&&c.pid==e.id&&(t.checked=!0)}))}))}))})),this.checkAll=this.treeData.some((function(e){return 1==e.checked})),this.$forceUpdate()},sysrolesUpdateFun:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function c(){var t,i;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t={token:e.getToken,id:e.row.id,role_name:e.row.role_name,check_ids:e.selectId},c.next=3,e.sysrolesUpdate(t);case 3:if(i=c.sent,1==i.code){c.next=6;break}return c.abrupt("return",e.$message.error(i.msg));case 6:e.$message.success("设置成功！"),e.$emit("func");case 8:case"end":return c.stop()}}),c)})))()},getSelectId:function(){var e=this;this.selectId=[],this.treeData.forEach((function(c){if(c.checked){var t={};t.id=c.id,c.child&&0!=c.child.length&&(t.child=[],c.child.forEach((function(e){if(e.checked){var c={};c.id=e.id,e.child&&0!=e.child.length&&(c.child=[],e.child.forEach((function(e){if(e.checked){var t={};t.id=e.id,c.child.push(t)}}))),t.child.push(c)}}))),e.selectId.push(t)}})),console.log(this.selectId)},checkedBtn:function(e){this.checkFn(e),1==e.type||(2==e.type?e.checked?this.treeData.find((function(c){return e.pid==c.id})).checked=e.checked:this.treeData.forEach((function(e){e.child&&0!=e.child.length&&(e.checked=e.child.some((function(e){return 1==e.checked})))})):e.checked&&this.treeData.forEach((function(e){e.child.forEach((function(e){e.child&&0!=e.child.length&&(e.checked=e.child.some((function(e){return 1==e.checked})))}))}))),this.checkAll=this.treeData.some((function(e){return 1==e.checked})),this.getSelectId(),this.$forceUpdate()},checkFn:function(e){var c=this;e.child&&0!=e.child.length&&e.child.forEach((function(t){t.checked=e.checked,c.checkFn(t)}))},checkAllFunc:function(){var e=this;this.treeData.forEach((function(c){c.checked=e.checkAll,e.checkFn(c)})),this.getSelectId()}})},l=a,o=(t("68cb"),t("2877")),r=Object(o["a"])(l,i,n,!1,null,"bb95c254",null);c["default"]=r.exports}}]);
//# sourceMappingURL=chunk-559aecbd.83c10378.js.map