(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-169f6ebc"],{"2b98":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"update"},[o("el-form",{ref:"ruleForm",staticStyle:{"margin-bottom":"20px"},attrs:{model:t.form,rules:t.rules}},[o("el-form-item",{attrs:{label:"规则名称:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{placeholder:"请输入规则名称",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"规则类型:","label-width":t.formLabelWidth}},[o("el-radio",{attrs:{label:"1"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("不可修复")]),o("el-radio",{attrs:{label:"2"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("严重")])],1),o("el-form-item",{attrs:{label:"过滤关键词:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入过滤关键词使用英文,分割"},model:{value:t.form.filtering_content,callback:function(e){t.$set(t.form,"filtering_content",e)},expression:"form.filtering_content"}}),o("span",[t._v("(关键词使用英文,分割)")])],1),o("el-form-item",{attrs:{label:"是否包含:","label-width":t.formLabelWidth}},[o("el-radio",{attrs:{label:"1"},model:{value:t.form.filtering_content_type,callback:function(e){t.$set(t.form,"filtering_content_type",e)},expression:"form.filtering_content_type"}},[t._v("不包含")]),o("el-radio",{attrs:{label:"0"},model:{value:t.form.filtering_content_type,callback:function(e){t.$set(t.form,"filtering_content_type",e)},expression:"form.filtering_content_type"}},[t._v("包含")])],1),o("el-form-item",{attrs:{label:"行业类别:","label-width":t.formLabelWidth}},[o("el-select",{staticStyle:{width:"80%"},attrs:{multiple:"",filterable:"",placeholder:"请输入关键词"},model:{value:t.form.industry_involved,callback:function(e){t.$set(t.form,"industry_involved",e)},expression:"form.industry_involved"}},t._l(t.options,(function(t){return o("el-option",{key:t.industrycocode,attrs:{label:t.industryconame,value:t.industrycocode}})})),1)],1),o("el-form-item",{attrs:{label:"字段选择:","label-width":t.formLabelWidth}},[o("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.checkListB,(function(e){return o("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.tits))])})),1)],1),o("el-form-item",{attrs:{label:"是否启用:","label-width":t.formLabelWidth}},[o("el-radio",{attrs:{label:"0"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("不启用")]),o("el-radio",{attrs:{label:"1"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("启用")])],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.cancel}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},n=[],s=(o("a15b"),o("b0c0"),o("5530")),a=o("2f62"),r={name:"insert",data:function(){return{form:{name:"",type:"1",filtering_content_type:"1",filtering_content:"",status:"1",industry_involved:""},rules:{},checkList:[],checkListB:[],formLabelWidth:"120px",options:[]}},props:{},created:function(){this.Bind()},methods:Object(s["a"])(Object(s["a"])({},Object(a["b"])({insertRuleList:"loginModule/insertRuleList",gethangruleList:"loginModule/gethangruleList",getzhiruleList:"loginModule/getzhiruleList",insertJournal:"loginModule/insertJournal"})),{},{cancel:function(){this.$emit("formok",!1)},Bind:function(){var t=this;this.gethangruleList({offset:0,limit:0,token:this.$store.state.token}).then((function(e){1==e.code&&(t.options=e.data.list)})),this.getzhiruleList({offset:0,limit:0,token:this.$store.state.token}).then((function(e){1==e.code&&(t.checkListB=e.data.list)}))},submit:function(){var t=this;this.$refs["ruleForm"].validate((function(e){if(!e)return!1;for(var o={token:t.$store.state.token,filtering_content:t.form.filtering_content,filtering_content_type:t.form.filtering_content_type,name:t.form.name,type:t.form.type,status:t.form.status,datas_1:t.checkList.join(","),datas_2:t.checkList.join(","),datas_3:t.checkList.join(","),datas_4:t.checkList.join(","),datas_5:t.checkList.join(","),datas_6:t.checkList.join(","),datas_7:t.checkList.join(","),datas_8:t.checkList.join(","),datas_9:t.checkList.join(","),datas_10:t.checkList.join(","),datas_11:t.checkList.join(","),datas_12:t.checkList.join(","),datas_13:t.checkList.join(","),datas_14:t.checkList.join(","),datas_15:t.checkList.join(","),datas_16:t.checkList.join(","),datas_17:t.checkList.join(","),datas_18:t.checkList.join(","),datas_19:t.checkList.join(","),datas_20:t.checkList.join(","),industry_involved:t.form.industry_involved.join(",")},i=[],n=0;n<t.options.length;n++)for(var s=0;s<t.form.industry_involved.length;s++)t.options[n].industrycocode==t.form.industry_involved[s]&&i.push(t.options[n].industryconame);for(var a=[],r=0;r<t.checkListB.length;r++)for(var l=0;l<t.checkList.length;l++)t.checkListB[r].id==t.checkList[l]&&a.push(t.checkListB[r].tits);t.insertRuleList(o).then((function(e){if(1==e.code){t.$message({message:"操作成功！",type:"success"});var o={plate:"规则管理",plateRouter:"/rule",user:t.$store.state.userInfo.identity_name,userId:111,action:1,time:new Date};t.form.industry_involved.length>0?o.content={"规则名称":t.form.name,"规则类型":1==parseInt(t.form.type)?"不可修复":"严重","过滤关键词":t.form.filtering_content,"是否包含":1==parseInt(t.form.filtering_content_type)?"不包含":"包含","是否启用":1==parseInt(t.form.status)?"使用中":"未使用","行业类别":i.join(",")}:o.content={"规则名称":t.form.name,"规则类型":1==parseInt(t.form.type)?"不可修复":"严重","过滤关键词":t.form.filtering_content,"是否包含":1==parseInt(t.form.filtering_content_type)?"不包含":"包含","是否启用":1==parseInt(t.form.status)?"使用中":"未使用"},t.checkList.length>0&&(o.content["字段选择"]=a.join(",")),t.insertJournal(o),t.$emit("formok","aaa")}else t.$message.error(e.msg)}))}))}})},l=r,c=(o("d434"),o("2877")),f=Object(c["a"])(l,i,n,!1,null,"f25849ae",null);e["default"]=f.exports},a15b:function(t,e,o){"use strict";var i=o("23e7"),n=o("44ad"),s=o("fc6a"),a=o("a640"),r=[].join,l=n!=Object,c=a("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(t){return r.call(s(this),void 0===t?",":t)}})},d434:function(t,e,o){"use strict";var i=o("ef26"),n=o.n(i);n.a},ef26:function(t,e,o){}}]);
//# sourceMappingURL=chunk-169f6ebc.4d53c70a.js.map