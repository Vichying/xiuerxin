(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b97e44"],{"2fdd":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"update"},[r("el-form",{ref:"ruleForm",staticStyle:{"margin-bottom":"20px"},attrs:{model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"账号名:","label-width":e.formLabelWidth,prop:"checkAdmins"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.checkAdmins,callback:function(t){e.$set(e.ruleForm,"checkAdmins",t)},expression:"ruleForm.checkAdmins"}})],1),r("el-form-item",{attrs:{label:"密码:","label-width":e.formLabelWidth,prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{label:"确认密码:","label-width":e.formLabelWidth,prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",{attrs:{label:"是否启用:","label-width":e.formLabelWidth}},[r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("启用")]),r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("不启用")])],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},a=[],o=r("5530"),l=r("2f62"),i={name:"insert",data:function(){var e=this,t=function(t,r,s){if(!r)return s(new Error("年龄不能为空"));e.chekAdmin({column:["*"],filter:{admins:r},offset:0,limit:0}).then((function(e){if(1==e.code)return e.data.list.length>0?s(new Error("该用户已注册")):s()}))},r=function(t,r,s){""===r?s(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),s())},s=function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.ruleForm.pass?s(new Error("两次输入密码不一致!")):s()};return{ruleForm:{pass:"",checkPass:"",checkAdmins:"",status:"1"},formLabelWidth:"120px",rules:{pass:[{required:!0,validator:r,trigger:"blur"}],checkPass:[{required:!0,validator:s,trigger:"blur"}],checkAdmins:[{required:!0,validator:t,trigger:"blur"}]}}},props:{},created:function(){},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])({insertAdmin:"loginModule/insertAdmin",chekAdmin:"loginModule/chekAdmin",insertJournal:"loginModule/insertJournal"})),{},{cancel:function(){this.$emit("formok",!1)},submit:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(!t)return!1;var r={systems_accounts_mains_id:1,types:1,admins:e.ruleForm.checkAdmins,psws:e.ruleForm.pass,status:e.ruleForm.status};e.insertAdmin(r).then((function(t){if(1==t.code){e.$message({message:"操作成功！",type:"success"});var r={plate:"管理员管理",plateRouter:"/staff",user:e.$store.state.userInfo.identity_name,userId:111,action:1,time:new Date,content:{"账号名":e.ruleForm.checkAdmins,"是否启用":1==parseInt(e.ruleForm.status)?"启用":"停用","密码":e.ruleForm.pass}};e.insertJournal(r),e.$emit("formok","aaa")}else e.$message.error(t.msg)}))}))}})},n=i,u=(r("c4b6"),r("2877")),c=Object(u["a"])(n,s,a,!1,null,"35a1fa0a",null);t["default"]=c.exports},c4b6:function(e,t,r){"use strict";var s=r("d453"),a=r.n(s);a.a},d453:function(e,t,r){}}]);
//# sourceMappingURL=chunk-20b97e44.ba2ddc8f.js.map